<link href="../styles.css" rel="stylesheet" />

## 01. Основы JavaScript

- [01. Основы JavaScript](#01-основы-javascript)
  - [Что такое JavaScript](#что-такое-javascript)
    - [Необходимый инструментарий для разработки](#необходимый-инструментарий-для-разработки)
  - [Первая программа на JavaScript](#первая-программа-на-javascript)
  - [Выполнение кода javascript](#выполнение-кода-javascript)
    - [Основы синтаксиса javascript](#основы-синтаксиса-javascript)
    - [Блоки кода](#блоки-кода)
    - [Комментарии](#комментарии)
  - [Подключение внешнего файла JavaScript](#подключение-внешнего-файла-javascript)
    - [Асинхронная загрузка и отложенное выполнение](#асинхронная-загрузка-и-отложенное-выполнение)
    - [Загрузка модулей](#загрузка-модулей)
  - [Консоль браузера и console.log](#консоль-браузера-и-consolelog)
    - [Вывод на консоль и console.log](#вывод-на-консоль-и-consolelog)
  - [Переменные и константы](#переменные-и-константы)
    - [Объявление переменных](#объявление-переменных)
    - [Присвоение переменной значения](#присвоение-переменной-значения)
    - [Изменение переменных](#изменение-переменных)
    - [Константы](#константы)
  - [Типы данных](#типы-данных)
    - [Числовые данные](#числовые-данные)
      - [Number](#number)
      - [Тип BigInt](#тип-bigint)
    - [Тип Boolean](#тип-boolean)
    - [Строки String](#строки-string)
      - [Интерполяция](#интерполяция)
    - [null и undefined](#null-и-undefined)
    - [object](#object)
    - [Слабая/динамическая типизация](#слабаядинамическая-типизация)
    - [Оператор typeof](#оператор-typeof)
  - [Операции](#операции)
    - [Арифметические операции](#арифметические-операции)
      - [Арифметические операции с присваиванием](#арифметические-операции-с-присваиванием)
    - [Поразрядные операции](#поразрядные-операции)
      - [Двоичное представление чисел](#двоичное-представление-чисел)
      - [Представление отрицательных чисел](#представление-отрицательных-чисел)
      - [Операции сдвига](#операции-сдвига)
      - [Поразрядные операции](#поразрядные-операции-1)
  - [Глоссарий](#глоссарий)
  - [Источники информации](#источники-информации)

### Что такое JavaScript
Сегодняшний мир веб-сайтов трудно представить без языка JavaScript. JavaScript - это то, что делает живыми веб-страницы, которые мы каждый день просматриваем в своем веб-браузере.

JavaScript был создан в 1995 году в компании Netscape разработчиком Брендоном Айком (Brendon Eich) в качестве языка сценариев в браузере Netscape Navigator 2. Первоначально язык назывался LiveScript, но на волне популярности в тот момент другого языка Java LiveScript был переименован в JavaScript. Однако данный момент до сих пор иногда приводит к некоторой путанице: некоторые начинающие разработчики считают, что Java и JavaScript чуть ли не один и тот же язык. Нет, это абсолютно два разных языка, и они связаны только по названию.

Первоначально JavaScript обладал довольно небольшими возможностями. Его цель состояла лишь в том, чтобы добавить немного поведения на веб-страницу. Например, обработать нажатие кнопок на веб-странице, произвести какие-нибудь другие действия, связанные прежде всего с элементами управления.

Однако развитие веб-среды, появление HTML5 и технологии Node.js открыло перед JavaScript гораздо большие горизонты. Сейчас JavaScript продолжает использоваться прежде всего для создания веб-приложений на стороне клиента, только теперь он предоставляет гораздо больше возможностей.

Также он применяется как язык серверной стороны. То есть если раньше JavaScript применялся только на веб-странице, а на стороне сервера нам надо было использовать такие технологии, как PHP, ASP.NET, Ruby, Java, то сейчас благодаря Node.js мы можем обрабатывать все запросы к серверу также с помощью JavaScript.

Также JavaScript может применяться для создания десктопных приложений, например, благодаря таким фреймворкам как Electron.

В последнее время переживает бум сфера мобильной разработки. И JavaScript опять же не остается в стороне: увеличение мощности устройств и повсеместное распространение стандарта HTML5 привело к тому, что для создания приложений для смартфонов, планшетов и настольных компьютеров мы также можем использовать JavaScript. То есть JavaScript уже перешагнул границы веб-браузера, которые ему были очерчены при его создании.

Также javascript может использоваться для разработки программ для встроенных устройство, в частности, для направления IoT(Internet of Things или Интернет вещей). То есть JavaScript можно использовать для программирования самых различных "умных" устройств, которые взаимодействуют с интернетом.

Таким образом, вы можете встретить применение JavaScript практически повсюду. Сегодня это действительно один из самых популярных языков программирования, и его популярность еще будет расти.

С самого начала существовало несколько веб-браузеров (Netscape, Internet Explorer), которые предоставляли различные реализации языка. И чтобы свести различные реализации к общему стержню и стандартизировать язык под руководством организации ECMA был разработан стандарт ECMAScript. В принципе сами термины JavaScript и ECMAScript являются во многом взаимозаменяемыми и относятся к одному и тому же языку.

К настоящему времени ECMA было разработано несколько стандартов языка, которые отражают его развитие. В последнее время почти каждый год выходит новый стандарт. На данный момент последним принятым стандартом является ECMAScript 2023, который был издан в июне 2023 года. В последние годы новые стандарты выпускаются почти каждый год, понемногу добавляя новые возможности к языку. Однако реализация стандартов в браузерах занимает довольно продолжительное время. Одни браузеры быстрее реализуют новые стандарты, другие медленнее. Кроме того, есть большой пласт старых версий браузеров, которыми простые пользователи продолжают пользоваться и которые естественно могут не поддерживать нововведения последних стандартов. И это надо учитывать при разработке программ на JavaScript. В данном же руководстве будут рассматриваться в основном те возможности JavaScript, которые поддерживаются всеми наиболее распространенными современными браузерами.

JavaScript является интерпретируемым языком. Это значит, что код на языке JavaScript выполняется с помощью интерпретатора. Интерпретатор получает инструкции языка JavaScript, которые определены на веб-странице, выполняет их (или интерпретирует).

#### Необходимый инструментарий для разработки
Для разработки на JavaScript нам потребуется прежде всего текстовый редактор для написания кода на данном языке программирования. В качестве текстового редактора я советую использовать такую программу как [Visual Studio Code](https://code.visualstudio.com/download). Он бесплатен, имеет много возможностей, в частности, поддерживает подцветку синтаксиса JavaScript и является кроссплатформенным: может быть установлен как на Windows, так и на Linux и MacOS. Хотя этот может быть любой другой текстовый редактор.

Для проверки выполнения программы нам потребуется также интерпретатор JavaScript, который можем выполнять программы JavaScript. В качестве интерпретатора мы будем использовать стандартный веб-браузер. Можно использовать последние версии любых распространенных браузеров - Google Chrome, Microsoft Edge, Mozilla Firefox, Opera, Safari.

Также существуют различные среды разработки, которые поддерживают JavaScript и облегчают разработку на этом языке, например, Visual Studio, WebStorm, Netbeans и так далее, которые могут упростить какие-то моменты создания программ на JavaScript. При желании можно использовать также эти среды разработки. Однако в общем случае достаточно текствого редактора и веб-браузера, а в простых случаях даже достаточно одного браузера.

Итак, приступим к созданию первой программы.[^1-1]

### Первая программа на JavaScript
Создадим первую программу на javascript. Для написания и тестирования программ на JavaScript нам потребуются две вещи: текстовый редактор и веб-браузер.

В качестве текстового редактора можно взять любой, который нравится - Atom, Sublime Text, Visual Studio Code, Notepad++ и другие. В данном руководстве я буду ориентироваться на бесплатный и многофункциональный текстовый редактор [Visual Studio Code](https://code.visualstudio.com/download), поскольку он является наиболее популярным.

В качестве браузера также можно взять последние версии любого предпочтительного веб-браузера. В настоящем руководстве я буду преимущественно ориентироваться на Google Chrome.

Для начала определим для нашего приложения какой-нибудь каталог. Например, создадим на диске C папку *app*. В этой папке создадим файл под названием *index.html*. То есть данный файл будет представлять веб-страницу с кодом HTML.

![Первый скрипт на JavaScript](../img/1.12.png)

Откроем этот файл в текстовом редакторе и определим в файле следующий код:
```html
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>METANIT.COM</title>
</head>
<body>
    <script>
        document.write("<h2>Первая программа на JavaScript</h2>");
    </script>
</body>
</html>
```

Здесь мы определяем стандартные элементы `html`. В элементе `head` определяется кодировка utf-8 и заголовок (элемент `title`). В элементе `body` определяется тело веб-страницы, которое в данном случае состоит только из одного элемента `<script>`.

Подключение кода javascript на html-страницу осуществляется с помощью тега `<script>`. Данный тег следует размещать либо в заголовке (между тегами `<head>` и `</head>`), либо в теле веб-странице (между тегами `<body>` и `</body>`). Нередко подключение скриптов происходит перед закрывающим тегом `</body>` для оптимизации загрузки веб-страницы.

Раньше надо было в теге `<script>` указывать тип скрипта, так как данный тег может использоваться не только для подключения инструкций javascript, но и для других целей. Так, даже сейчас вы можете встретить на некоторых веб-страницах такое определение элемента `script`:
```html
<script type="text/javascript">
```

Но в настоящее время предпочтительнее опускать атрибут `type`, так как браузеры по умолчанию считают, что элемент `script` содержит инструкции `javascript`.

Используемый нами код javascript содержит одно выражение:
```js
document.write("<h2>Первая программа на JavaScript</h2>");
```

Код javascript может содержать множество инструкций и каждая инструкция завершается точкой с запятой. Наша инструкция вызывает метод `document.write()`, который выводит на веб-страницу некоторое содержимое, в данном случае это заголовок `<h2>Первая программа на JavaScript</h2>`.

Вид файла в текстовом редакторе Visual Studio Code:

![Первая программа на JavaScript в Visual Studio Code](../img/1.2.png)

Теперь, когда веб-страница готова, откроем ее в веб-браузере.

![Первая программа на JavaScript](../img/1.1.png)

И веб-браузер отобразит заголовок, который мы передали в метод `document.write()` в коде javascript.[^1.2]

### Выполнение кода javascript
Когда браузер получает веб-страницу с кодом html и javascript, то он ее интерпретирует. Результат интерпретации в виде различных элементов — кнопок, полей ввода, текстовых блоков и т.д., мы видим перед собой в браузере. Интерпретация веб-страницы происходит последовательно сверху вниз.

Когда браузер встречает на веб-странице элемент `<script>` с кодом javascript, то вступает в действие встроенный интерпретатор javascript. И пока он не закончит свою работу, дальше интерпретация веб-страницы не идет.

Рассмотрим небольшой пример и для этого определим файл *index.html* со следующим кодом:
```html
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>METANIT.COM</title>
    <script>
        document.write("Начальный текст");
    </script>
</head>
<body>
    <h2>Первый заголовок</h2>
    <script>
        document.write("Первый текст");
    </script>
    <h2>Второй заголовок</h2>
    <script>
        document.write("Второй текст");
    </script>
</body>
</html>
```

Здесь три вставки кода javascript — один в секции `<head>` и по одному после каждого заголовка.

Откроем веб-страницу в браузере и мы увидим, что браузер последовательно выполняет код веб-страницы:

![Интерпретация кода JavaScript](../img/1.4.png)

Здесь мы видим, что вначале выполняется код javascript из секции `head`, который выводит на веб-страницу некоторый текст:
```js
document.write("Начальный текст");
```

Далее выводится первый стандартный html-элемент `<h2>`:
```html
<h2>Первый заголовок</h2>
```

После этого выполняется вторая вставка кода на javascript:
```js
document.write("Первый текст");
```

Затем выводится второй html-элемент `<h2>`:
```html
<h2>Второй заголовок</h2>
```

И в конце выполняется последняя вставка кода на javascript:
```js
document.write("Второй текст");
```

После этого браузер закончит интерпретацию веб-страницы, и веб-страница окажется полностью загружена. Данный момент очень важен, поскольку может влиять на производительность. Поэтому нередко вставки кода javascript идут перед закрывающим тегом `</body>`, когда основная часть веб-страницы уже загружена в браузере.

#### Основы синтаксиса javascript
Прежде чем переходить к детальному изучению основ языка программирования javascript, рассмотрим некоторые базовые моменты его синтаксиса.

Код javascript состоит из инструкций. Каждая инструкция представляет некоторое действие. И для отделения инструкций друг от друга в javascript после инструкции ставится точка с запятой:
```html
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>METANIT.COM</title>
</head>
<body>
    <script>
        document.write("2 + 5 =  "); const sum = 2 + 5; document.write(sum);
    </script>
</body>
</html>
```

Здесь в коде javascript определены три инструкции:

1. `document.write("2 + 5 =  ")`

    Выводит на страницу текст "2 + 5 = "

2. `const sum = 2 + 5;`

    С помощью оператора `const` определяет константу `sum` — некоторое значение, которое не должно меняться (так как в данном случае мы присваиваем ему значение только один раз и больше не изменяем). И эта константа равна сумме 2 + 5

3. `document.write(sum);`

    Выводит на страницу значение константы `sum` (то есть суму 2 + 5)

    ![Инструкции в JavaScript](../img/1.5.png)

Однако современные браузеры вполне могут различать отдельные инструкции, если они просто располагаются на отдельных строках без точки запятой:
```html
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>METANIT.COM</title>
</head>
<body>
    <script>
        document.write("2 + 5 =  ")
        const sum = 2 + 5
        document.write(sum)
    </script>
</body>
</html>
```

Но чтобы улучшить читабельность кода и снизить число возможных ошибок, рекомендуется определять каждую инструкцию javascript на отдельной строчке и завершать ее точкой с запятой, как в первом варианте.

#### Блоки кода
Отдельные инструкции можно можно объединять в блоки кода, которые представляют некоторый код, заключенные между фигурными скобками `{ блок кода }`. Например, определим следующую страницу:
```html
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>METANIT.COM</title>
</head>
<body>
    <script>
        document.write("Привет! ");
        {
            document.write("Как дела? ");
            document.write("Че не отвечаешь, ты че спишь? ");
        }
        document.write("Ну пока...");
    </script>
</body>
</html>
```

Здесь программа на JavaScript состоит из 4-х инструкций. Причем две из инструкций помещены в блок кода:
```js
{
    document.write("Как дела? ");
    document.write("Че не отвечаешь, ты че спишь? ");
}
```

Одна инструкция выполняется до блока кода, и еще одна — после блока кода.

#### Комментарии
В коде javascript могут использоваться комментарии. Комментарии не обрабатываются интерпретатором javascript и никак не учитываются в работе программы. Они предназначены для ориентации по коду, чтобы указать, что делает тот или иной код.[^1.3]

Комментарии могут быть однострочными, для которых используется двойной слеш:
```html
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>METANIT.COM</title>
</head>
<body>
    <script>
        // выводим сообщение
        document.write("2 + 5 =  ")
        // объявляем константу и присваиваем ей сумму чисел 2 и 5
        const sum = 2 + 5
        // выводим значение константы sum
        document.write(sum)
    </script>
</body>
</html>
```

Кроме однострочных комментариев могут использоваться и многострочные. Такие комментарии заключаются между символами `/*текст комментария*/`. Например:
```html
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>METANIT.COM</title>
</head>
<body>
    <script>
        /*  Пример арифметической операции
        и определения константы
        в коде JavaScript */
        document.write("2 + 5 =  ")
        const sum = 2 + 5
        document.write(sum)
    </script>
</body>
</html>
```

### Подключение внешнего файла JavaScript
В прошлой статье код javascript непосредственно определялся на веб-странице. Но есть еще один способ подключения кода JavaScript, который представляет вынесение кода во внешние файлы и их подключение с помощью тега `<script>`.

Итак, в прошлой теме мы создали html-страницу *index.html*, которая находится в каталоге app. Теперь создадим в этом каталоге новый подкаталог. Назовем его *js*. Он будет предназначен для хранения файлов с кодом javascript. В этом подкаталоге создадим новый текстовый файл, который назовем *main.js*. Файлы с кодом javascript имеют расширение *.js*. То есть у нас получится следующая структура проекта в папке *app*:

![Структура программы на JavaScript](../img/1.3.png)

Откроем файл *main.js* в текстовом редакторе и определим в нем следующий код:
```js
document.body.innerHTML = "<h2>Первая программа на JavaScript</h2>"; // выводим заголовок
document.body.innerHTML += "Привет мир!";                             // выводим обычный текст
```

Здесь для добавления на веб-страницу некоторого содержимого применяется свойство `document.body.innerHTML`. Это свойство включает три компонента:

- **`document`**: представляет текущий документ HTML (грубо говоря, текущий файл html)

- **`body`**: представляет элемент `body` — основное содержимое текущего документа HTML, которое собственно мы и видим на веб-странице в браузере

- **`innerHTML`**: представляет код HTML элемента `body`

То есть свойство `document.body.innerHTML` фактически означает, что мы обращаемся к коду `html` элемента `body` на текущей html-странице. Но что мы с ним делаем? Возьмем первую строку
```js
document.body.innerHTML = "<h2>Первая программа на JavaScript</h2>";
```

Здесь мы передаем во внутренне содержимое элемента `body` заголовок `<h2>`.

Далее на второй строке мы добавляем к содержимому элемента `body` простой текст.

```js
document.body.innerHTML += "Привет мир!";
```

Для совместимости с кодировкой страницы *index.html* для файла с кодом javascript также желательно устанавливать кодировку utf-8. При работе в Visual Studio Code этот редактор автоматически устанавливает кодировку UTF-8.

Теперь подключим этот файл на веб-страницу *index.html*:
```html
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>METANIT.COM</title>
</head>
<body>
    <script src="js/main.js"></script>
</body>
</html>
```

Чтобы подключить файл с кодом javascript на веб-страницу, применяется также тег **`<script>`**, у которого устанавливается атрибут **`src`**. Этот атрибут указывает на путь к файлу скрипта. В нашем случае используется относительный путь. Так как веб-страница находится в одной папке с каталогом *js*, то в качестве пути мы можем написать *js/main.js*.

Также надо учитывать, что за открывающим тегом `script` должен обязательно следовать закрывающий `</script>`

И после открытия файла *index.html* в браузере отобразится сообщение:

![Подключение внешних скриптов javascript](../img/1.7.png)

В отличие от определения кода javascript вынесение его во внешние файлы имеет ряд преимуществ:

- Мы можем повторно использовать один и тот же код на нескольких веб-страницах

- Внешние файлы javascript бразуер может кэшировать, за счет этого при следующем обращении к странице браузер снижает нагрузка на сервер, а браузеру надо загрузить меньший объем информации

- Код веб-страницы становится "чище". Он содержит только html-разметку, а код поведения хранится во внешних файлах. В итоге можно отделить работу по созданию кода html-страницы от написания кода javascript

Поэтому, как правило, предпочтительнее использовать код javascript во внешних файлах, а не в прямых вставках на веб-страницу с помощью элемента script.

#### Асинхронная загрузка и отложенное выполнение
Нередко веб-страницы имеют сложную структуру, какие-то блоки на html-странице, где подключаются файлы javascript, формируются динамически, что может усложнять управление файлами javascript. И для управления загрузкой файла с кодом JavaScript браузер предоставляет два атрибута: **`async`** и **`defer`**.

Атрибут **`async`** гарантирует, что обработка HTML-кода не будет приостановлена, когда браузер встретит элемент `<script>`. Файл JavaScript загружается асинхронно (отсюда и название атрибута — `async`). В этом случае HTML-код продолжает обрабатываться до тех пор, пока не будет загружен соответствующий файл JavaScript. Когда будет загружен файл JavaScript, обработка HTML останавливается, и начинает выполняться загруженный файл JS. После выполнения кода JavaScript продолжается обработка HTML.

![Асинхронная загрузка файла JavaScript и атрибут async](../img/1.14.png)

Пример применения атрибута **`async`**:
```html
<script async src="js/main.js"></script>
```

Атрибут **`defer`** также гарантирует, что обработка HTML-кода не будет приостановлена. С другой стороны, исходный код JavaScript выполняется только после полной обработки HTML-кода. Таким образом, выполнение кода JavaScript откладывается (отсюда и название — `defer` в переводе на английский).[^1-4]

![Отложенное выполенние файла JavaScript и атрибут defer](../img/1.15.png)

Пример применения атрибута `defer`:
```html
<script defer src="js/main.js"></script>
```

#### Загрузка модулей
- Для загрузки модулей применяется политика CORS. Это значит, что мы не можем просто кинуть в браузер html-страницу, которая подключает модуль. Модуль загружается с использованием протокола http/https. То есть страница html, которая загружает модуль, должна располагаться на каком-нибудь веб-сервере.

- Модули всегда выполняются в режиме strict mode.

- Модули по умолчанию загружаются асинхронно.

- Модули загружаются и выполняются только один раз.

- Модули позволяют использовать выражения `await` верхнего уровня без определения и вызова асинхронной функции.

- Модули могут импортировать функционал из других модулей и, в свою очередь, экспортировать свою функциональность в другие модули.

- Модули выполняются не в глобальном контексте, а в своей собственной области видимости. То есть переменные, константы, функции, классы и т.д., определенные внутри модуля, не доступны извне, пока они не будут явным образом экспортированы. А чтобы другой модуль мог их использовать, он должен их импортировать.

### Консоль браузера и console.log
Незаменимым инструментом при работе с JavaScript является консоль браузера, которая позволяет производить отладку программы. Во многих современных браузерах есть подобная консоль. Например, чтобы открыть консоль в Google Chrome, нам надо перейти в меню **Дополнительные инструменты** (**More Tools**) -> **Инструменты разработчика** (**Developer tools**):

![Отладка JavaScript в Google Chrome](../img/1.8.png)

После этого внизу браузера откроется консоль:

![Консоль JavaScript в Google Chrome](../img/1.9.png)

Мы можем напрямую вводить в консоль браузера выражения JavaScript, и они будут выполняться. Например, введем в консоли следующий текст:
```js
alert("Привет мир");
```

И что замечательно при работе с консолью, при вводе она предлагает всплывающую подсказку с названиями, которые мы хотим ввести, что упрощает ввод, снижает количество возможных ошибок:

![Консоль JavaScript в Google Chrome](../img/1.13.png)

Функция **`alert()`** выводит в браузере окно с сообщением. В итоге после ввода этой команды и нажатия на клавишу <kbd>Enter</kbd> браузер выполнит эту функцию и отобразит нам окно с сообщением:

![Ввод команд JavaScript в консоли браузера Google Chrome](../img/1.10.png)

Таким образом, для написания и выполнения кода JavaScript нам в принципе не нужен ни текстовый редактор, ни файл веб-страницы, который содержит код javascript, достаточно одной консоли браузера. Однако набирать большой и сложный код JavaScript в консоли может быть не очень удобно, поэтому в дальнейшем для всех примеров по прежнему будет использовать код JavaScript, который встраивается на html-страницу.

#### Вывод на консоль и console.log
Для вывода различного рода информации в консоли браузера используется специальная функция **`console.log()`**. Например, определим html-страницу со следующим кодом:
```html
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" >
    <title>METANIT.COM</title>
</head>
<body>
    <script>
        const sum = 5 + 8;
        console.log("Результат операции: ");
        console.log(sum);
    </script>
</body>
</html>
```

В коде javascript с помощью ключевого слова **`const`** объявляется константа `sum`, которой присваивается сумма двух чисел 5 и 8:
```js
const sum = 5 + 8;
```

Далее с помощью метода `console.log()` на консоль браузера выводится некоторое сообщение
```js
console.log("Результат операции");
```

И в конце также с помощью метода `console.log()` на консоль браузера выводится значение константы `sum`.

```js
console.log(sum);
```

И после запуска веб-страницы в браузере мы увидим в консоли результат выполнения кода:

![Функция console.log() в JavaScript](../img/1.11.png)

Что очень полезно, в консоли браузера вы также можете заметить номера строк кода, где именно выполнялся вывод на консоль.

В дальнейшем мы часто будем обращаться к консоли и использовать функцию `console.log`.

Причем подобный код мы могли бы ввести в самой консоли:

![Консоль JavaScript в браузере](../img/1.6.png)

Также последовательно вводим инструкции и после ввода каждой инструкции нажимаем на <kbd>Enter</kbd>. В данном случае я ввел две инструкции:
```js
const sum2 = 1 + 2      // определяем константу sum2, которая равна сумме 1 + 2
console.log(sum2)       // выводим значение константы sum2 на консоль
```

Если нам надо, чтобы код в консоли переносился на новую строку без выполнения, то в конце выражения javascript нажимаем на комбинацию клавиш <kbd>Shift</kbd> + <kbd>Enter</kbd>. После ввода последней инструкции для выполнения введенного кода javascript нажимаем на <kbd>Enter</kbd>.[^1-5]

### Переменные и константы
Для хранения данных в программе используются **переменные** и **константы**. Переменные предназначены для хранения каких-нибудь временных данных или таких данных, которые в процессе работы могут менять свое значение. Константы, наоборот, предназначены для хранения неизменных данных, значение которых должно оставаться постоянным в течение всей программы.

#### Объявление переменных
Для создания переменных применяются операторы **`var`** и **`let`**. Например, объявим переменную `username`:
```js
var username;
```

Объявление переменной представляет отдельную инструкцию, поэтому завершается точкой с запятой.

Аналогичное определение переменной с помощью оператора **`let`**:
```js
let username;
```

Каждая переменная имеет имя. Имя представляет собой произвольный набор алфавитно-цифровых символов, знака подчеркивания (`_`) или знака доллара (`$`), причем названия не должны начинаться с цифровых символов. То есть мы можем использовать в названии буквы, цифры, подчеркивание и символ `$`. Однако все остальные символы запрещены.

Например, правильные названия переменных:
```js
$commision
someVariable
product_Store
income2
myIncome_from_deposit
```

Следующие названия являются некорректными и не могут использоваться:
```js
222lol
@someVariable
my%percent
```

Также нельзя давать переменным такие имена, которые совпадают с зарезервированными ключевыми словами. В JavaScript не так много ключевых слов, поэтому данное правило не сложно соблюдать. Например, следующее название будет некорректным, так как **`for`** — ключевое слово в JavaScript:
```js
var for;
```

Список зарезервированных слов в JavaScript:
```js
await, break, case, catch, class, const, continue, debugger, default, delete, do, else, enum, export, extends, false, finally, for, function, if, import, in, instanceof, new, null, return, super, switch, this, throw, true, try, typeof, var, void, while, with, yield
```

С развитием JavaScript и принятием новых стандартов языка список зарезервированных слов может пополняться, однако в целом их не так уж много.

Также не рекомендуется объявлять переменные с именем, которые аналогичны уже имеющимся глобальным переменным. Например, для вывода на консоль используется метод `console.log()`. Здесь `console` — это имя глобального объекта, и мы можем определить переменную с этим именем.

```js
let console;    // определяем переменную console
console.log("Hello");   // ! Ошибка
```

Определение переменной `console` приведет к тому, что она переопределит одноименный глобальный объект console, и при вызове метода console.log() мы столвнемся с ошибкой.

Подобных глобальных объектов не так много, кроме console это также alert, blur, close, closed, document, focus, frames, location, navigator, open, screen, window.

При названии переменных надо учитывать, что JavaScript является **регистрозависимым** языком, то есть в следующем коде объявлены две разные переменные:
```js
let username;
let userName;
```

Через запятую можно определить сразу несколько переменных:
```js
var username, age, height;
let a, b, c;
```

#### Присвоение переменной значения
После определения переменной ей можно присвоить какое-либо значение. Для этого применяется **оператор присваивания** (**`=`**):
```js
var username;
username = "Tom";
```

То есть в данном случае переменная `username` будет хранить строку "Tom". После присвоения переменной значения мы можем что-то сделать с этим значением, например, выведем его на консоль:
```html
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>METANIT.COM</title>
</head>
<body>
    <script>
        let username;           // Определение переменной username
        username = "Tom";       // Присвоение переменной значения
        console.log(username);  // Вывод значения переменной username на консоль
    </script>
</body>
</html>
```

![Переменные в JavaScript](../img/2.6.png)

Можно сразу присвоить переменной значение при ее определении:
```js
var username = "Tom";
let userage = 37;
```

Процесс присвоения переменной начального значения называется <dfn title="иницилизация">инициализацией</dfn>. Можно обратить внимание, что одна переменная определена с помощью `let`, а другая — с помощью `var`. Конкретно в данном случае это не имеет значения, и мы могли бы определить обе переменных либо с помощью `let`, либо с помощью `var`. Но в целом между `let` и `var`, есть различия, которые будут рассмотрены далее.

Можно сразу инициализировать несколько переменных:
```js
let name1 = "Tom", name2 = "Bob", name3 = "Sam";
console.log(name1);  // Tom
console.log(name2);  // Bob
console.log(name3);  // Sam
```

JavaScript позволяет некоторые вольности при определении переменной. Так, мы можем НЕ использовать ключевые слова **`let`** или **`var`**
```html
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>METANIT.COM</title>
</head>
<body>
    <script>
        username = "Tom"; // ошибки нет, норм
        console.log(username);  // Tom
    </script>
</body>
</html>
```

Хотя мы можем так делать, но это не самый рекомендуемый подход. В одной из следующих статей мы увидим, с какими проблемами мы можем столкнуться при подобном подходе.

#### Изменение переменных
Отличительной чертой переменных является то, что мы можем изменить их значение:
```html
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>METANIT.COM</title>
</head>
<body>
    <script>
        let username = "Tom";
        console.log("username до изменения:", username);
        username = "Bob";
        console.log("username после изменения:", username);
    </script>
</body>
</html>
```

![Изменение переменных в JavaScript](../img/2.7.png)

#### Константы
С помощью ключевого слова **`const`** можно определить **константу**, которая, как и переменная, хранит значение, однако это значение не может быть изменено.

```js
const username = "Tom";
```

Если мы попробуем изменить ее значение, то мы столкнемся с ошибкой:
```js
const username = "Tom";
username = "Bob";   // ошибка, username - константа, поэтому мы не можем изменить ее значение
```

![Константы const в JavaScript](../img/2.8.png)

Также стоит отметить, что поскольку мы не можем изменить значение константы, то она должна быть инициализирована, то есть при ее определении мы должны предоставить ей начальное значение. Если мы этого не сделаем, то опять же мы столкнемся с ошибкой:
```js
const username; // ошибка, username не инициализирована
```

Когда использовать переменные, а когда константы? Если вы уверены, что значение в процессе программы не будет изменяться, тогда это значение определяется в виде константы. Если неизвестно, будет ли значение меняться или нет, то рекомендуется определить значение как константу. А в случае если в далее потребуется его изменить, то просто можно изменить определение значения с **`const`** на **`var`**/**`let`**.[^2.1]

### Типы данных
Все используемые данные в javascript имеют определенный тип. В JavaScript имеется восемь типов данных:

- **`String`**: представляет строку;

- **`Number`**: представляет числовое значение;

- **`BigInt`**: предназначен для представления очень больших целых чисел;

- **`Boolean`**: представляет логическое значение `true` или `false`;

- **`Undefined`**: представляет одно специальное значение — `undefined` и указывает, что значение не установлено;

- **`Null`**: представляет одно специальное значение — `null` и указывает на отсутствие значения;

- **`Symbol`**: представляет уникальное значение, которое часто применяется для обращения к свойствам сложных объектов;

- **`Object`**: представляет комплексный объект.

Первые семь типов представляют примитивные типы данных. Последний тип — `Object` представляет сложный, комплексный тип данных, который состоит из значений примитивных типов или других объектов. Рассмотрим основные примитивные типы данных.

#### Числовые данные

##### Number
Тип **`Number`** представляет числа в JavaScript, которые могут быть целыми или дробными:

- Целые числа, например, 35. Мы можем использовать как положительные, так и отрицательные числа. Диапазон используемых чисел: от -2^53^ до 2^53^.

- Дробные числа (числа с плавающей точкой). В качестве разделителя дробной и целой части применяется точка, например, 3.5575. Опять же можно использовать как положительные, так и отрицательные числа. Для чисел с плавающей точкой используется тот же диапазон: от -2^53 до 2^53.

Например:
```js
const x = 45;
const y = 123.897;
const z = -0.123;
```

<details>
<summary><em>О размере чисел в JS</em></summary>

В JavaScript тип `Number` имеет 64-битный размер, который используется для хранения как целых, так и дробных чисел. Это формат чисел с плавающей запятой двойной точности по стандарту IEEE 754. Число с плавающей точкой в этом формате занимает 64 бита: 1 бит для знака, 11 бит для экспоненты и 52 бита для мантиссы (самого числа).

- **Ограничение на безопасные целые числа**: Наибольшее целое число, которое можно надежно представить, — это 2^53^-1 (или `Number.MAX_SAFE_INTEGER`), что составляет 9 007 199 254 740 991.

- **Большие и маленькие числа**: Для представления значений вне этого диапазона используются `Number.POSITIVE_INFINITY` или `Number.NEGATIVE_INFINITY`. Например, число большее, чем `Number.MAX_VALUE` (приблизительно 1.79 ⋅ 10^308^), будет представлено как `Infinity`.

- **Тип `BigInt`**: Для работы с целыми числами, которые превышают возможности `Number`, был введен новый тип `BigInt`. Этот тип позволяет хранить целые числа произвольной длины.

</details>

JavaScript поддерживает возможность определять числа в двоичной, восьмеричной и шестнадцатеричной системах, что очень удобно, если нам предстоить проводить поразрядные операции с отдельными битами числа. Для определения числа в двоичной системе, перед числом указывается префикс **`0b`**:
```js
const num1 = 0b1011;    // число 11 в двоичной системе
console.log(num1);      // 11
```

В данном случае константа `num1` равна `0b1011`, что в десятичной системе эквивалентно 11.

Для определения числа в восьмеричной системе, перед числом указывается префикс **`0o`**:
```js
const num1 = 0xff;    // число 255 в шестнадцатеричной системе
console.log(num1);      // 255
const num2 = 0x1A;    // число 26 в шестнадцатеричной системе
console.log(num2);      // 26
```

Начиная со стандарта ECMA2021 в JavaScript для увеличения читабельности в качестве разделителя между разрядами можно использовать символ подчеркивания `_`:
```js
const num1 = 1234567;
const num2 = 123_4567;  // число равное num1

const num3 = 1234567890;
const num4 = 12_3456_7890;    // число равное num3
```

##### Тип BigInt
Тип **`BigInt`** добавлен в последних стандартах JavaScript для представления очень больших целых чисел, которые выходят за пределы диапазона типа `Number`.

<details>
<summary><em>О размере BigInt в JS</em></summary>

Размер `BigInt` в JavaScript не имеет фиксированных ограничений, поскольку он предназначен для представления целых чисел произвольной длины. Это означает, что он может хранить числа гораздо больше, чем обычный тип `Number`, который ограничен значениями от $-2^{53}$ до $2^{53}-1$ (или около $\pm 9$ квадриллионов).

- **Отсутствие фиксированного ограничения**: В отличие от стандартных чисел, `BigInt` может хранить числа практически любой величины, пока хватает оперативной памяти.

- **Отличие от `Number`**: Обычный тип `Number` в JavaScript основан на 64-битных числах с плавающей запятой и имеет ограничение на максимально точное представление целых чисел (это `Number.MAX_SAFE_INTEGER`).

- **Применение**: `BigInt` используется для работы с большими целыми числами, такими как идентификаторы, криптографические ключи и другие данные, где требуется высокая точность и большой диапазон значений. 

</details>

Это не значит, что мы не можем совсем работать с большими числами с помощью типа `Number`, но работа с ними в случае с типом `Number` будет сопряжена с проблемами. Рассмотрим небольшой пример:
```js
let num = 9007199254740991
console.log(num);       // 9007199254740991
console.log(num + 1);   // 9007199254740992
console.log(num + 2);   // 9007199254740992
```

Здесь переменной num присваивается максимальное значение. И далее прибавляем к ней некоторые значения и выводим на консоль результат. И результаты могут нас смутить, особенно в случае прибавления числа 2.

Стоит отметить, что тип `Number` ограничен, хотя и позволяет оперировать довольно большим диапазоном чисел. В частности, мы можем использовать специальные константы `Number.MIN_VALUE` и `Number.MAX_VALUE` для проверки минимального и максимального возможных значений для типа `Number`:
```js
console.log(Number.MIN_VALUE);   // 5e-324
console.log(Number.MAX_VALUE);  // 1.7976931348623157e+308
```

Например, рассмотрим следующий пример:
```js
const num = 9223372036854775801;
console.log(num);   // 9223372036854776000
```

В силу ограничений типа `Number` на консоли мы увидим несколько другое число, нежели мы присвоили константе `num`. Это может негативно влиять на точность в вычислениях. И для подобных подобных чисел как раз предназначен тип **`BigInt`**. Для определения числа как значения типа `BigInt` в конце числа добавляется суффикс **`n`**:
```js
let dimension = 19007n;
const value = 2545n;
```

Например, изменим из предыдущего примера тип `number` на `bigint`:
```js
const num = 9223372036854775801n;
console.log(num);   // 9223372036854775801n
```

Теперь консоль выводит корректный результат.

#### Тип Boolean
Тип `Boolean` представляет булевые или логические значения **`true`** (верно) и **`false`** (ложно):
```js
const isAlive = true;
const isDead = false;
```

#### Строки String
Тип `String` представляет строки. Для определения строк применяются кавычки, причем, можно использовать как двойные, так одинарные, так и косые кавычки. Единственно ограничение: тип закрывающей кавычки должен быть тот же, что и тип открывающей, то есть либо обе двойные, либо обе одинарные.

```js
const user = "Tom";
const company = 'Microsoft';
const language = `JavaScript`;

console.log(user);
console.log(company);
console.log(language);
```

Если внутри строки встречаются кавычки, то мы их должны экранировать слешем. Например, пусть у нас есть текст "Бюро "Рога и копыта"". Теперь экранируем кавычки:
```js
const company = "Бюро \"Рога и копыта\"";
```

Также мы можем внутри стоки использовать другой тип кавычек:
```js
const company1 = "Бюро 'Рога и копыта'";
const company2 = 'Бюро "Рога и копыта"';
```

Также строка может содержать специальные символы — управляющие последовательности, которые интерпретируются определенным образом. Самые распространенные последовательности — это "\n" (перевод на другую строку) и "\t" (табуляция). Например:
```js
const text = "Hello METANIT.COM\nHello\tWorld";
console.log(text); 
```

При выводе на консоль текст из константы `text` будет интерпретироваться следующим образом:
```
Hello METANIT.COM
Hello	World
```

##### Интерполяция
Использование косых кавычек позволяет нам применять такой прием как <dfn title="интерполяция">интерполяция</dfn> — встраивание данных в строку. Например:
```js
const user = "Tom";
const text = `Name: ${user}`;
console.log(text);  // Name: Tom
```

Для встраивания значений выражений (например, значений других переменных и констант) в строку перед выражением ставится знак доллара `$`, после которого в фигурных скобках указывается выражение. Так, в примере выше `${user}` означает, что в этом месте строки надо встроить значение переменной `user`.

Подобным образом можно встраивать и больше количество данных:
```js
const user = "Tom";
const age = 37;
const isMarried = false;
const text = `Name: ${user}   Age: ${age}   IsMarried: ${isMarried}`;
console.log(text);  // Name: Tom   Age: 37   IsMarried: false
```

Кроме интерполяции косые кавычки позволяют определять многострочный текст:
```js
const text = 
`Мы все учились понемногу
Чему-нибудь и как-нибудь,
Так воспитаньем, слава богу,
У нас немудрено блеснуть.`;

console.log(text);
```

Консольный вывод браузера:
```
Мы все учились понемногу
Чему-нибудь и как-нибудь,
Так воспитаньем, слава богу,
У нас немудрено блеснуть.
```

#### null и undefined
**`undefined`** указывает, что значение не определено или не установлено. Например, когда мы только определяем переменную без присвоения ей начального значения, она представляет тип `undefined`:
```js
let email;
console.log(email); // выведет undefined
```

Присвоение значение `null` означает, что у переменной отсутствует значение:
```js
let email;
console.log(email); // undefined
email = null;
console.log(email);     // null
```

Стоит отметить, что хотя в принципе можно переменной присвоить значение `undefined`, как в следующем случае:
```js
let email = "tome@mimimail.com";
email = undefined;      // установим тип undefined
console.log(email); // undefined
```

Но основной смысл `undefined` состоит в том, что переменная неинициализирована, что обычно происходит до первого присвоения ей какого-либо значения. Поэтому обычно не предполагается, что переменной явным образом будет присваиваться значение `undefined`. В тоже время этот тип может быть полезен — мы можем использовать его на проверку инициализации переменной. Но если же нам надо указать, что у переменной нет никакого значения, то ей присваивается `null`, а не `undefined`.

#### object
Тип `object` представляет сложный объект. Простейшее определение объекта представляют фигурные скобки:
```js
const user = {};
```

Объект может иметь различные свойства и методы:
```js
const user = {name: "Tom", age:24};
console.log(user.name);
```

В данном случае объект называется `user`, и он имеет два свойства: `name` и `age`, которые в качестве значения принимают данные других типов. Это краткое описание объектов, более подробно объекты будут рассматриваться далее.

#### Слабая/динамическая типизация
JavaScript является языком со слабой и динамической типизацией. Это значит, что переменные могут динамически менять тип. Например:
```js
let id;  // тип undefined
console.log(id);
id = 45;  // тип number
console.log(id);
id = "45"; // тип string
console.log(id);
```

Несмотря на то, что во втором и третьем случае консоль выведет нам число 45, но во втором случае переменная `id` будет представлять число, а в третьем случае — строку.

#### Оператор typeof
С помощью оператора **`typeof`** можно получить тип переменной, что может быть полезно, когда в зависимости от типа переменной необходимо выполнить те или иные действия:
```js
let id;
console.log(typeof id);       // undefined

id = 45;
console.log(typeof id);   // number

id = 45n;
console.log(typeof id);     // bigint

id = "45";
console.log(typeof id);     // string
```

Стоит отметить, что для значения **`null`** оператор `typeof` возвращает значение "object", несмотря на то, что согласно спецификации JavaScript значение **`null`** представляет отдельный тип.[^2.2]

### Операции

#### Арифметические операции
Для выполнения различных действий над значениями (например, сложение, вычитание и т.д.) язык JavaScript предоставляет **операции**. Операции принимают один, два или три операнда и применяют к ним некоторые действия. В качестве операндов в зависимости от типа операции можно применять литералы (числа, строки), переменные и константы или результаты других операций. Ранее мы уже использовать одну, наиболее распространенную операцию — операцию присвоения в виде символа `=`, которая присваивает переменной или константе некоторое значение:
```js
const num = 4;    // операция присвоения - присваиваем константе num число 4
console.log(num); // 4
```

Рассмотрим, какие арифметические операции мы можем использовать в JavaScript.[^2.3]

JavaScript поддерживает все базовые математические операции:

**Сложение:**
```js
const x = 50 + 10;
console.log(x); // 60
```

**Вычитание:**
```js
const x = 50 - 10;
console.log(x); // 40
```

**Умножение:**
```js
const x = 50 * 10;
console.log(x); // 500
```

**Деление:**
```js
const x = 50 / 10;
console.log(x); // 5

const z = 50 / 4;
console.log(z); // 12.5
```

**Деление по модулю** (оператор `%`) возвращает остаток от деления:
```js
const x = 15 % 4;
console.log(x); // 3
```

Результатом будет 3, так как наибольшее целое число, которое меньше или равно 15 и при этом делится на 4 без остатка равно 12, а 15 - 12 = 3.

**Возведение в степень**. Оператор `**` возводит число в определенную степень:
```js
число ** степень
```

Например:
```js
const n = 2 ** 3;
console.log(n);  // 8

const x = 3;
const y = 2;
const z = x ** y;
console.log(z);  // 9
```

**Инкремент:**
```js
let x = 5;
x++; // x = 6
```

Оператор инкремента `++` увеличивает значение переменной на единицу. Существует префиксный инкремент, который сначала увеличивает переменную на единицу, а затем возвращает ее значение. И есть постфиксный инкремент, который сначала возвращает значение переменной, которое было до увеличения его на единицу:
```js
// префиксный инкремент
let x = 5;
let z = ++x;
console.log(x); // 6
console.log(z); // 6

// постфиксный инкремент
let a = 5;
let b = a++;
console.log(a); // 6
console.log(b); // 5
```

Инкремент аналогичен операции:
```js
a = a + 1;
```

**Декремент** уменьшает значение переменной на единицу. Также есть префиксный и постфиксный декремент:
```js
// префиксный декремент
let x = 5;
let z = --x;
console.log(x); // 4
console.log(z); // 4

// постфиксный декремент
let a = 5;
let b = a--;
console.log(a); // 4
console.log(b); // 5
```

Как и принято в математике, все операции выполняются слева направо и различаются по приоритетам: сначала операции инкремента и декремента, затем выполняются умножение и деление, а потом сложение и вычитание. Чтобы изменить стандартный ход выполнения операций, часть выражений можно поместить в скобки:
```js
let x = 10;
let y = 5 + (6 - 2) * --x;
console.log(y); //41
```

##### Арифметические операции с присваиванием
В JavaScript также есть ряд операций, которые сочетают арифметические операции с присвоением:

- `+=`

    Сложение с последующим присвоением результата. Например:
    ```js
    let a = 23;
    a += 5; // аналогично a = a + 5
    console.log(a); // 28
    ```

- `-=`

    Вычитание с последующим присвоением результата. Например:
    ```js
    let a = 28;
    a -= 10; // аналогично a = a - 10
    console.log(a); // 18
    ```

- `*=`

    Умножение с последующим присвоением результата:
    ```js
    let x = 20;
    x *= 2;         // аналогично x = x * 2
    console.log(x); // 40
    ```

- `**=`

    Возведение в степень с последующим присвоением результата:
    ```js
    let x = 5;
    x **= 2;
    console.log(x);  // 25
    ```

- `/=`

    Деление с последующим присвоением результата:
    ```js
    let x = 40;
    x /= 4; // аналогично x = x / 4
    console.log(x); // 10
    ```

- `%=`

    Получение остатка от деления с последующим присвоением результата:
    ```js
    let x = 10;
    x %= 3; // аналогично x = x % 3
    console.log(x); // 1, так как 10 - 3*3 = 1
    ```

#### Поразрядные операции
Поразрядные операции выполняются над отдельными разрядами или битами чисел. Данные операции производятся только над целыми числами. Но сначала вкратце рассмотрим, что представляют собой разряды чисел.

##### Двоичное представление чисел
На уровне компьютера все данные представлены в виде набора бит. Каждый бит может иметь два значения: 1 (есть сигнал) и 0 (нет сигнала). И все данные фактически представляют набор нулей и единиц. 8 бит представляют 1 байт. Подобную систему называют **двоичной**.

Например, число 13 в двоичной системе будет равно $1101_2$. Как мы это получили:
```js
// перевод десятичного числа 13 в двоичную систему
13 / 2 = 6       // остаток 1 (13 - 6 ⋅ 2 = 1)
6 / 2  = 3       // остаток 0 (6 - 3 ⋅ 2 = 0)
3 / 2  = 1       // остаток 1 (3 - 1 ⋅ 2 = 1)
1 / 2  = 0       // остаток 1 (1 - 0 ⋅ 2 = 1)
```

Общий алгоритм состоит в последовательном делении числа и результатов деления на 2 и получение остатков, пока не дойдем до 0. Затем выстраиваем остатки в линию в обратном порядке и таким образом формируем двоичное представление числа. Конкретно в данном случае по шагам:

1. Делим число 13 на 2. Результат деления — 6, остаток от деления — **1** (так как 13 - 6 ⋅ 2 = 1).

2. Далее делим результат предыдущей операции деления — число 6 на 2. Результат деления — 3, остаток от деления — **0**.

3. Делим результат предыдущей операции деления — число 3 на 2. Результат деления — 1, остаток от деления — **1**.

4. Делим результат предыдущей операции деления — число 1 на 2. Результат деления — 0, остаток от деления — **1**.

5. Последний результат деления равен 0, поэтому завершаем процесс и выстраиваем остатки от операций делений, начиная с последнего — `1101`.

При обратном переводе из двоичной системы в десятичную умножаем значение каждого бита (1 или 0) на число 2 в степени, равной номеру бита (нумерация битов идет от нуля):
```js
// перевод двоичного числа 1101 в десятичную систему
1(3-й бит)1(2-й бит)0(1-й бит)1(0-й бит)
1 * 23 + 1 * 22 + 0 * 21 + 1 * 20
=
1 * 8 + 1 * 4 + 0 * 2 + 1 * 1
=
8 + 4 + 0 + 1
=
13
```

В JavaScript для определения чисел в двоичном формате перед числом применяется префикс **`0b`**:
```js
const num = 0b1101;  // 13 в десятичной системе
console.log(num);    // 13
```

##### Представление отрицательных чисел
Для записи чисел со знаком в JavaScript применяется дополнительный код (two's complement), при котором старший разряд является знаковым. Если его значение равно 0, то число положительное, и его двоичное представление не отличается от представления беззнакового числа. Например, `0000 0001` в десятичной системе 1.

Если старший разряд равен 1, то мы имеем дело с отрицательным числом. Например, `1111 1111` в десятичной системе представляет -1. Соответственно, `1111 0011` представляет -13.

Чтобы получить из положительного числа отрицательное, его нужно инвертировать и прибавить единицу:

![Инверсия и дополнительный код в языке программирования](../img/twoscomplement.png)

Например, получим число -3. Для этого сначала возьмем двоичное представление числа 3:

$$ 3_{10} = 0000\ 0011_2 $$

Инвертируем биты

$$ ~0000\ 0011 = 1111\ 1100 $$

И прибавим 1

$$ 1111\ 1100 + 1 = 1111\ 1101 $$

Таким образом, число `1111 1101` является двоичным представлением числа -3.

Рассмотрим, как будет идти сложение числа со знаком и без знака. Например, сложим 12 и -8:

$$ 12_{10} = 0000\ 1100_2\\
+\\
-8_{10} = 1111\ 1000_2 (8 - 0000\ 1000, \text{после инверсии —} 1111\ 0111, \text{после} +1 = 1111\ 1000)\\
=\\
4_{10} = 0000\ 0100_2 $$

Мы видим, что в двоичной системе получилось число $0000\ 0100_2$ или $4_{10}$ в десятичной системе.

Мы можем это увидеть на практике:
```js
let num = 0b1100;   // 12 в десятичной системе
num = ~num;         // инверсия разрядов
num = num + 1;
console.log(num);   // -12
```

##### Операции сдвига
Каждое целое число в памяти представлено в виде определенного количества разрядов. И операции сдвига позволяют сдвинуть битовое представление числа на несколько разрядов вправо или влево. Операции сдвига применяются только к целочисленным операндам. Есть две операции:

- **`<<`** (сдвиг влево)

    Сдвигает битовое представление числа, представленного первым операндом, влево на определенное количество разрядов, которое задается вторым операндом.

    ```js
    const res = 2 << 2;    // 10  на два разрядов влево = 1000 - 8
    console.log(res);      // 8
    ```

    Число 2 в двоичном представлении $0010_2$. Если сдвинуть число `0010` на два разряда влево, то получится `1000`, что в десятичной системе равно число 8.

- **`>>`** (арифметический сдвиг вправо)

    Сдвигает битовое представление числа вправо на определенное количество разрядов.

    ```js
    const res = 16 >> 3;  // 10000 на три разряда вправо = 10 или 2 в десятичной системе
    console.log(res);     // 2
    ```

    Число 16 в двоичном представлении $10000_2$. Если сдвинуть число `10000` на три разряда вправо (три последних разряда отбрасываются), то получится `00010`, что в десятичной системе представляет число 2.

    Стоит отметить, что это так называемый арифметический сдвиг, при котором сдвинутые влевой части разряды заполняются знаковым битом — 0 для положительных и 1 для отрицательных чисел. Таким образом, при сдвиге отрицательных чисел не будет опасения, что после сдвига они станут положительными. Например:
    ```js
    const res = -16 >> 3;  // 11111110000 на три разряда вправо = 1111111111111110
    console.log(res);      // -2
    ```

    Так, при сдвиге вправо -16 на 3 разряда мы получим -2, что вполне естественно.

- **`>>>`** (логический сдвиг вправо)

    Сдвигает битовое представление числа вправо на определенное количество разрядов, но в отличие от операции `>>` заполняет сдвинутые в левой части разряды нулями, то есть мы получаем беззнаковый сдвиг. Таким образом, даже если мы сдвигаем отрицательное число, на выходе мы в любом случае получим положительное:
    ```js
    const res = -16 >>> 3;
    console.log(res);      // 536870910
    ```

Можно заметить, что сдвиг на один разряд влево фактически аналогично умножению на 2, тогда как сдвиг вправо на один раз эквивалентно делению на два. Мы можем обобщить: сдвиг влево на $n$ аналогичен умножению числа на $2^n$, а сдвиг вправо на $n$ разрядов аналогичен делению на $2^n$, что можно использовать вместо умножения/деления на степени двойки:
```js
const res1 = 8 << 2;  // эквивалентно 8 * 4
console.log(res1);      // 32

const res2 = 64 >> 4;  // эквивалентно 64 / 16
console.log(res2);      // 4
```

##### Поразрядные операции
Поразрядные операции также проводятся только над соответствующими разрядами чисел:

- **`&`**: поразрядная конъюнкция (операция И или поразрядное умножение). Возвращает 1, если оба из соответствующих разрядов обоих чисел равны 1

- **`|`**: поразрядная дизъюнкция (операция ИЛИ или поразрядное сложение). Возвращает 1, если хотя бы один из соответствующих разрядов обоих чисел равен 1

- **`^`**: поразрядное исключающее ИЛИ. Возвращает 1, если только один из соответствующих разрядов обоих чисел равен 1

- **`~`**: поразрядное отрицание или инверсия. Инвертирует все разряды операнда. Если разряд равен 1, то он становится равен 0, а если он равен 0, то он получает значение 1.

Применение операций:
```js
const a = 5 | 2;            // 101 | 010 = 111  - 7
const b = 6 & 2;            // 110 & 010 = 10  - 2
const c = 5 ^ 2;            // 101 ^ 010 = 111 - 7
const d = ~9;               // -10
```

Например, выражение `5 | 2` равно 7. Число 5 в двоичной записи равно `101`, а число 2 — `10` или `010`. Сложим соответствующие разряды обоих чисел. При сложении если хотя бы один разряд равен 1, то сумма обоих разрядов равна 1. Поэтому получаем:
```
1	0	1
0	1	0
1	1	1
```

В итоге получаем число `111`, что в десятичной записи представляет число 7.

Возьмем другое выражение `6 & 2`. Число 6 в двоичной записи равно `110`, а число 2 — `10` или `010`. Умножим соответствующие разряды обоих чисел. Произведение обоих разрядов равно 1, если оба этих разряда равны 1. Иначе произведение равно 0. Поэтому получаем:
```
1	1	0
0	1	0
0	1	0
```

Получаем число `010`, что в десятичной системе равно 2.[^2.9]

### Глоссарий
Инициализация
: процесс присвоения переменной начального значения.

Интерполяция
: встраивание данных в строку.

### Источники информации
[^1-1]: [Введение в JavaScript](https://metanit.com/web/javascript/1.1.php)
[^1.2]: [Первая программа на JavaScript](https://metanit.com/web/javascript/1.2.php)
[^1.3]: [Выполнение кода javascript](https://metanit.com/web/javascript/1.3.php)
[^1-4]: [Подключение внешнего файла JavaScript](https://metanit.com/web/javascript/1.4.php)
[^1-5]: [Консоль браузера и console.log](https://metanit.com/web/javascript/1.5.php)
[^2.1]: [Переменные и константы](https://metanit.com/web/javascript/2.1.php)
[^2.2]: [Типы данных](https://metanit.com/web/javascript/2.2.php)
[^2.3]: [Арифметические операции](https://metanit.com/web/javascript/2.3.php)
[^2.9]: [Поразрядные операции](https://metanit.com/web/javascript/2.9.php)
