## Встроенные объекты и коллекции

- [Встроенные объекты и коллекции](#встроенные-объекты-и-коллекции)
  - [Объект Date. Работа с датами](#объект-date-работа-с-датами)
    - [Определение дат](#определение-дат)
    - [Получение даты и времени](#получение-даты-и-времени)
    - [Установка даты и времени](#установка-даты-и-времени)
  - [Источники информации](#источники-информации)

### Объект Date. Работа с датами
Объект **`Date`** позволяет работать с датами и временем в JavaScript.

#### Определение дат
Существуют различные способы создания объекта `Date`:

- С помошью пустого конструктора **`Date`** без параметров. В этом случае созданный объект хранит текущие дату и время

    ```js
    const currentDate = new Date();
    console.log(currentDate);   // Thu Oct 26 2023 13:17:53 GMT+0100
    ```

- В конструктор `Date` передается количества миллисекунд, которые прошли с начала эпохи Unix, то есть с 1 января 1970 года 00:00:00 GMT:

    ```js
    const myDate = new Date(1359270000000);
    console.log(myDate); // Sun Jan 27 2013 11:00:00 GMT+0400 (Москва, стандартное время)
    ```

    <details>
    <summary><em>Об эпохе Unix</em></summary>

    Эпоха Unix связана с началом отсчёта времени в Unix-подобных системах как количество секунд, прошедших с полуночи 1 января 1970 года. Эта дата стала точкой отсчёта для Unix-времени (или Unix-timestamp) и была выбрана, потому что это была ближайшая подходящая дата после создания первой версии операционной системы Unix в начале 1970-х годов.

    **Исторический контекст**: Изначально операционная система Unix была разработана в исследовательском центре Bell Labs в 1970-х годах. Выбор этой даты способствовал созданию единого стандарта времени для разных операционных систем, облегчая синхронизацию и обработку данных. "Unix Epoch" — момент времени — 1 января 1970 года, 00:00:00 UTC — называется «эпохой Unix» и является точкой, от которой ведется отсчет всех последующих секунд в Unix-времени.

    </details>

- В конструктор `Date` передаются день, месяц и год:

    ```js
    const date1 = new Date("27 March 2008");
    console.log(date1); // Thu Mar 27 2008 00:00:00 GMT+0300 (Москва, стандартное время)
    // или так
    const date2 = new Date("3/27/2008");
    console.log(date2); // Thu Mar 27 2008 00:00:00 GMT+0300 (Москва, стандартное время)
    // или так
    const date3 = new Date("3 27 2008");
    console.log(date3); // Thu Mar 27 2008 00:00:00 GMT+0300 (Москва, стандартное время)
    ```

    Если мы используем полное название месяца, то оно пишется в по-английски, если используем сокращенный вариант, тогда используется формат "месяц/день/год" или "месяц день год".

- Четвертый способ состоит в передаче в конструктор `Date` всех параметров даты и времени:

    ```js
    const myDate = new Date(2012,11,25,18,30,20,10);
    console.log(myDate); // Tue Dec 25 2012 18:30:20 GMT+0400 (Москва, стандартное время)
    ```

    В данном случае используются по порядку следующие параметры: `new Date(год, месяц, число, час, минуты, секунды, миллисекунды)`. При этом надо учитывать, что отсчет месяцев начинается с нуля, то есть январь — `0`, а декабрь — `11`.

#### Получение даты и времени
Для получения различных компонентов даты применяется ряд методов:

- `getDate()`: возвращает день месяца

- `getDay()`: возвращает день недели (отсчет начинается с `0` — воскресенье, и последний день — `6` — суббота)

- `getMonth()`: возвращает номер месяца (отсчет начинается с нуля, то есть месяц с номер `0` — январь)

- `getFullYear()`: возвращает год

- `toDateString()`: возвращает полную дату в виде строки

- `getHours()`: возвращает час (от 0 до 23)

- `getMinutes()`: возвращает минуты (от 0 до 59)

- `getSeconds()`: возвращает секунды (от 0 до 59)

- `getMilliseconds()`: возвращает миллисекунды (от 0 до 999)

- `toTimeString()`: возвращает полное время в виде строки

Получим текущую дату:
```js
const today = new Date();
console.log(today.getDate());       // 26
console.log(today.getDay());        // 4
console.log(today.getMonth());      // 9
console.log(today.getFullYear());   // 2023
```

Преобразуем данные в более читабельную форму:
```js
const days = ["Воскресенье", "Понедельник", "Вторник", "Среда", "Четверг", "Пятница", "Суббота"];
const months = ["Январь", "Февраль", "Март", "Апрель", "Май", "Июнь",
            "Июль", "Август", "Сентябрь", "Октябрь", "Ноябрь", "Декабрь"];

const today = new Date();
console.log(`Сегодня: ${today.getDate()} ${months[today.getMonth()]} ${today.getFullYear()}, ${days[today.getDay()]}`);
// Сегодня: 26 Октябрь 2023, Четверг
```

Для перевода из числовых значений в более привычные названия для дней недели и месяцев используются массивы. Получив индекс дня недели (`today.getDay()`) и индекс месяца (`today.getMonth()`) можно получить нужный элемент из массива.

Теперь получим текущее время:
```js
var welcome;
const myDate = new Date();
const hour = myDate.getHours();
const minute = myDate.getMinutes();
const second = myDate.getSeconds();

console.log(`Текущее время: ${hour}:${minute}:${second}`); // Текущее время: 13:38:26
```

#### Установка даты и времени
Кроме задания параметров даты в конструкторе для установки мы также можем использовать дополнительные методы объекта `Date`:

- **`setDate()`**: установка дня в дате

- **`setMonth()`**: уставовка месяца (отсчет начинается с нуля, то есть месяц с номер `0` — январь)

- **`setFullYear()`**: устанавливает год

- **`setHours()`**: установка часа

- **`setMinutes()`**: установка минут

- **`setSeconds()`**: установка секунд

- **`setMilliseconds()`**: установка миллисекунд

Установим дату:
```js
const myDate = new Date();
myDate.setDate(14);
myDate.setMonth(10);    // ноябрь
myDate.setFullYear(2023);
console.log(myDate); // Tue Nov 14 2023 13:41:20 GMT+0300 (Москва, стандартное время)
```

При установке значений мы можем передать величину, большую, чем максимальное допустимое значение. Например, установить для часа число 54:
```js
myDate.setHours(54);
```

В этом случае значение часа будет равно 54 - 24 * 2 = 6, а оставшиеся часы будут составлять два дня (24 * 2), что прибавит к дате два дня. То же самое действует и в отношении дней, минут, секунд, миллисекунд и месяцев.[^5.1]

### Источники информации
[^5.1]: [Объект Date. Работа с датами](https://metanit.com/web/javascript/5.1.php)
